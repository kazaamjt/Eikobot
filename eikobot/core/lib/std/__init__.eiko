typedef IPv4Address str if is_ipv4(self)
typedef IPv6Address str if is_ipv6(self)
typedef Port int if self >= 0 and self <= 65535


resource Host:
    host: str
    port: int = 22
    username: Optional[str] = None
    password: Optional[str] = None
    ssh_requires_pass: bool = False
    sudo_requires_pass: bool = True

    promise os_platform: str
    promise os_name: str
    promise os_version: str


@index(["host.host", "cmd"])
resource Cmd:
    host: Host
    cmd: str
