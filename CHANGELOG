# CHANGELOG

## 0.5.0

- Made EikoPromise a `Generic`
- Make some errors clearer
- Added `std.script`
- Remove `exec_sudo`
- Fixed a bug that caused python models to be duplicated when converted from eiko objects through nested models
- Added a package manager
- Fixed a bug that caused indentation in the constructor definition argument list to break, resulting in a syntax error
- Remove python3.10 support due to it not supporting tomllib

## 0.4.0

- Added inheritance for `resource` definitions (inherits properties, not constructors)
- Added a quickstart and expanded the tutorial
- Added `std.get_pass` and protected strings (strings that are not printed to the console)
- Added `Promise`. A keyword that allows for data to be filled in during deployment rather then compilation
- Added plugin type conversion for python lists and dicts to eiko lists and dicts
- Expanded `std.Host` with execution of SSH based commands
- Removed automatic resolution of `Path` and instead pass it unresolved
- Updated dependencies
- Fixed a bug where the total number of tasks was not correctly calculated
- Fixed a bug where a task could depend on antother task more than once and would thus stall forever
- Added helper method `failed` to `std.CMDResult`
- Fixed a bug for coercing types when importing a typedef
- Added `std.env.secrets_file`, a plugin that takes a file and parses it in to secrets (like env vars)
- Added `Path.parent` property
- Use `asyncssh` library instead of `create_subprocess_exec` (Fixes various cross platform terminal issues)
- Allow setting of promises in the model

## 0.3.0

- Fixed a bug where a comment at the end of a file gets the compiler stuck
- Added type coersion when assigning Typedef types (previously only in constructors)
- Fixed a bug where typedef expressions did not properly parse dot expressions for the base type
- Fixed a bug where typedefs could not properly inherit from each other
- Added class name to the unique index generated for resources
- Fixed a bug where the global resource id list would leak between deployments
- Change `List` and `Dict`, to `list` and `dict`, because python deprecated the former
- Fixed a bug in the type system where a resource class had itself as a type instead of `ResourceDefinition`
- Fixed a bug where resource instances inherited from `ResourceDefinition` instead of the base object
- Added a builtin `__depends_on__` property to `EikoResource`
- Added `list.extend`, which does the same as in python
- Added relative imports
- Added `EikoBaseModel` Class in Python, that allows for using python dataclass like classes
linked to Eikobot `Resources`
- Added `Exporter` The part of the engine that creates tasks and calculates dependencies
- Added `Handler`, `CRUDHandler` and `AsyncCRUDHandler`. Handlers describe how to
deploy and maintain a resource
- Added `Deployer` and `Deploy`-command, finaly allowing resources to actually be deployed
- Expanded the `std.file` module, including the first deployable resource: `File`
- Renamed a some internals (mostly compiler modules) so they don't conflict with python builtins
- Added a module cache, so a module does not get compiled more than once
- Expose the python `std` module as `eikobot.core.std`
- Added type coersion for default values of resource properties (like in the constructor)
- Added caching of imports
- Add dot expressions for indexes

## 0.2.0

- Added basic tutorial
- Added exception handling for plugins
- Added compilation error for empty lists and dicts without typing
- Fixed a bug in parsing dictionaries
- Fixed a bug where importing from the same module using multiple statements resulted in an error
- Fixed a bug where a dot-expressed callable would wrongly refer to the dot-token instead of the identifier
- Added decorators
- Added indexes on resources and added an index decorator
- Restrict valid types for dictionary keys
- Fixed a bug where no trialing comma in a list caused a syntax error
- Fixed a bug where imports could happen twice and thus break the declare once rule
- Added Path as a base type
- Added std.file (read_file, render_template)
- Added IPv4 and IPv6 as typedefs to std
- Fix a bug mixing index and dot access expressions
- Rename `std.print` to `std.inspect`
